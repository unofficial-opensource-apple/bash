--- /SourceCache/bash/bash-70/bash/jobs.c	2007-01-04 19:39:48.000000000 -0800
+++ ./jobs.c	2007-02-11 20:17:26.000000000 -0800
@@ -963,7 +978,7 @@ compact_jobs_list (flags)
   reap_dead_jobs ();
   realloc_jobs_list ();
 
-  return (js.j_lastj);
+  return (js.j_lastj ? js.j_lastj+1 : 0);
 }
 
 /* Delete the job at INDEX from the job list.  Must be called
